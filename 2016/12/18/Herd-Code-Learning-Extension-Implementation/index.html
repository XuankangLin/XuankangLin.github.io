<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="gungunba"><link rel="icon" href="/img/favicon.png"><title>Xuankang Lin</title><meta name="description" content="Personal Website of Xuankang Lin"><link rel="alternate" type="application/rss+xml" title="Xuankang Lin" href="/atom.xml"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 8.0.0"></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#main-navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Xuankang's Blog</a></div><div class="collapse navbar-collapse" id="main-navbar"><ul class="nav navbar-nav navbar-right"><li><a href="/About-Me/">About</a></li><li><a href="/archives">Archive</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img class="avatar-img" src="/img/avartar.jpg"></a></div></div></div></nav><header class="header-section"><div class="intro-header no-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>Herd7 Code Learning &amp; Extension Implementation Note</h1><p class="post-meta">Posted on Dec 19, 2016</p></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article class="blog-post" role="main"><p>MY GOAL: Save generated executions from Herd7 against a specific memory model for further learning.</p>
<span id="more"></span>

<br/>

<h2 id="èƒŒæ™¯ä»‹ç»"><a href="#èƒŒæ™¯ä»‹ç»" class="headerlink" title="èƒŒæ™¯ä»‹ç»"></a>èƒŒæ™¯ä»‹ç»</h2><p>è¿™ä¸ªæ˜¯æˆ‘å½“å‰åœ¨åšçš„äº‹æƒ…ä¹‹ä¸€ï¼Œé‡Œå¤´éœ€è¦å¾—åˆ°ä¸€ä¸ªå° program åœ¨æŸä¸ªç‰¹å®šçš„ relaxed memory models ä¸‹çš„æ‰€æœ‰ executions &#x2F; traces.</p>
<p>ç»è¿‡è°ƒç ”ï¼Œ<a target="_blank" rel="noopener" href="http://diy.inria.fr/">Herd7</a> æ˜¯èƒ½å¤Ÿåšåˆ°æˆ‘æƒ³è¦çš„äº‹æƒ…çš„ã€‚ä¹‹å‰æˆ‘è¿˜å¸®è€æ¿å‡†å¤‡äº†ä¸€ä¸ªä½¿ç”¨ herd7 æ¥ä½“éªŒä¸åŒçš„ RMM çš„ lab, å†™åœ¨<a href="/2016/12/15/Herd-Lab/">å¦ä¸€ç¯‡åšå®¢</a>é‡Œäº†ã€‚Herd7 èƒ½å¤Ÿè¾“å‡ºä»¥ä¸‹è¾¹è¿™æ ·çš„å›¾ç‰‡çš„æ ¼å¼è¾“å‡º executions: <img src="/mp-fr.svg"> æ˜¾ç„¶åœ¨ç”Ÿæˆçš„è¿‡ç¨‹ä¸­è‚¯å®šä¼šå­˜æœ‰æ¯å¹…å›¾å¯¹åº”çš„ä¸­é—´çŠ¶æ€ï¼Œæˆ‘çš„ç›®æ ‡å°±æ˜¯æŠŠè¿™äº›ä¸­é—´çŠ¶æ€æ‰“å°åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œå­˜èµ·æ¥ã€‚</p>
<p>åœ¨è¿™ä¸€ç¯‡åšå®¢é‡Œï¼Œæˆ‘å¤§è‡´è®°å½•äº†æ•´ä¸ªå®éªŒã€æ‰©å±•çš„æµç¨‹ï¼Œå¯¹äºæƒ³è¦äº†è§£ herd7 å·¥å…·çš„å®ç°çš„åŒå­¦åº”è¯¥æ˜¯ä¼šæœ‰ä¸€ç‚¹å¸®åŠ©çš„å§ï¼Œä»…æ­¤è€Œå·²äº†ã€‚é™¤æ­¤ä¹‹å¤–çš„ä¸€ç‚¹ç‚¹å¹²è´§å¯èƒ½å°±æ˜¯ OCaml çš„ä¸€ç‚¹é…ç½®ç»éªŒäº†å§ã€‚ä¸çŸ¥é“ä¼šä¸ä¼šæœ‰äººè®¤çœŸçœ‹å®Œå…¨æ–‡å‘¢ ğŸ˜‚</p>
<p>herd7 çš„ä»£ç å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://github.com/herd/herdtools7">è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°ï¼Œæˆ‘è‡ªå·± fork åä¿®æ”¹çš„ç‰ˆæœ¬åœ¨<a target="_blank" rel="noopener" href="https://github.com/AndriyLin/herdtools7">è¿™é‡Œ</a>ã€‚</p>
<p>è¿™é‡Œæˆ‘åŸºäºçš„æ˜¯ v7.43 çš„ç‰ˆæœ¬ã€‚å…¶å®æˆ‘åŸæœ¬è¿˜å°è¯•è¿‡ diy v5.99 ï¼ˆdiy æ˜¯æ—§ç‰ˆæœ¬çš„åå­—ï¼Œv7 æ”¹åäº†ï¼‰é‡Œçš„ä»£ç çš„ï¼Œå› ä¸ºè§‰å¾—æ—§ç‰ˆæœ¬çš„ä»£ç å¯èƒ½ä¼šæ›´çŸ­å°ã€æ›´æ–¹ä¾¿ç†è§£ã€‚ä½†æ˜¯æˆ‘åœ¨æ—§ç‰ˆæœ¬ä¸‹å¥½åƒ <code>make</code> ä¸€ä¸‹å°±è‡ªåŠ¨ build + install äº†.. ä¸æ–¹ä¾¿è°ƒè¯•ï¼Œä¹Ÿæ²¡æœ‰æ‰¾åˆ°ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶è·¯å¾„ç”¨äº merlin-mode çš„ä»£ç è§£æï¼ˆè¿™ä¸ªçœŸçš„å¾ˆå…³é”®ï¼ï¼ï¼‰ï¼Œæ‰€ä»¥å°±ç®—äº†ã€‚è€Œä¸”æˆ‘éšä¾¿å¯¹æ¯”äº†ä¸¤ä¸ªç‰ˆæœ¬ä¸‹çš„å‡ ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚ top&#x2F;top_herd, mem&#x2F;mem, å¥½åƒå¹¶æ²¡æœ‰ç‰¹åˆ«å¤§çš„å˜åŒ–ã€‚åæ­£æœ€åä¹ŸåŸºæœ¬æ»¡è¶³ç›®æ ‡äº†å‘— ğŸ˜ã€‚</p>
<h2 id="OCaml-å¼€å‘ç¯å¢ƒé…ç½®"><a href="#OCaml-å¼€å‘ç¯å¢ƒé…ç½®" class="headerlink" title="OCaml å¼€å‘ç¯å¢ƒé…ç½®"></a>OCaml å¼€å‘ç¯å¢ƒé…ç½®</h2><p>Herd7 æ˜¯ç”¨ OCaml å†™çš„ï¼Œæ‰€ä»¥æˆ‘å¾—å…ˆå­¦ä¹ ä¸€ä¸‹ OCaml è¿™é—¨è¯­è¨€ã€‚åœ¨12å¹´å¬ coursera ä¸Šçš„ PL è¯¾çš„æ—¶å€™å­¦è¿‡ä¸€ç‚¹ç‚¹çš„ Standard ML, é™¤æ­¤ä¹‹å¤–å¯¹ OCaml å°±æ²¡ä»€ä¹ˆäº†è§£äº†ã€‚ä¸è¿‡ä¸Šæ‰‹èµ·æ¥è¿˜æ˜¯æŒºå¿«çš„ï¼Œæˆ‘ä¸€ç›´ä»¥æ¥ç»™è‡ªå·±çš„è¦æ±‚éƒ½æ˜¯ã€Œ3å¤©ä¹‹å†…èƒ½å¤Ÿä¸Šæ‰‹ä»»ä½•ä¸€é—¨æ–°è¯­è¨€ã€ã€‚ä¸ºäº†ç†Ÿæ‚‰ OCaml,</p>
<ol>
<li>çœ‹äº† <a target="_blank" rel="noopener" href="https://try.ocamlpro.com/">TryOCaml</a> çš„æ‰€æœ‰</li>
<li>çœ‹äº† OCaml å®˜ç½‘ä¸Šåˆ—å‡ºæ¥çš„æ‰€æœ‰ <a target="_blank" rel="noopener" href="https://ocaml.org/learn/tutorials/">tutorials</a></li>
<li>ç„¶ååšäº†åš tutorials é‡Œå¤´çš„ <a target="_blank" rel="noopener" href="https://ocaml.org/learn/tutorials/99problems.html">99 problems</a> çš„ä¸€äº›é¢˜ç›®ã€‚æˆ‘å‘ç°è¿™å…¶å®å°±æ˜¯ã€Œç®—æ³•é¢˜ in OCamlã€å˜›ã€‚ã€‚</li>
</ol>
<p>è¿™äº›æœç„¶å°±åŸºæœ¬è¶³å¤Ÿäº†ã€‚é™¤äº†åæ¥ä¸ºäº†çœ‹æ‡‚ Herd7 é‡Œçš„ä¸€äº› module &#x2F; functor çš„é«˜çº§å†™æ³•ï¼Œåˆçœ‹äº†çœ‹ <em>Real World OCaml</em> è¿™æœ¬ä¹¦ã€‚ç„¶åè¯­è¨€ä¸Šå°±å¾ˆç†Ÿæ‚‰äº†ã€‚</p>
<p>å…³äºå¼€å‘ç¯å¢ƒï¼Œæˆ‘å¹¶æ²¡æœ‰æ‰¾åˆ° OCaml çš„ä»€ä¹ˆå¤§å‹ IDE, éƒ¨åˆ†åŸå› æ˜¯ Emacs + <a target="_blank" rel="noopener" href="https://github.com/ocaml/merlin">Merlin-mode</a> å°±å·²ç»å¾ˆå¼ºåŠ›äº†ï¼ï¼è™½ç„¶è¿™æ¬¡æˆ‘è¿˜æ²¡æœ‰æ€ä¹ˆå°è¯• debugger, å…‰ printf å°±åšå®Œäº†.. ä¸å¾—ä¸è¯´ï¼Œmerlin mode çœŸçš„æ˜¯è¶…æ£’çš„ï¼å¸®äº†å¤§å¿™äº†ã€‚æˆ‘æœ€å¸¸ç”¨çš„ä¸¤ä¸ªåŠŸèƒ½æ˜¯ jump to definition å’Œ show type information.</p>
<p>å…³äº merlin mode ä»¥åŠ emacs çš„è®¾ç½®ï¼Œåœ¨<a target="_blank" rel="noopener" href="https://github.com/ocaml/merlin/wiki/emacs-from-scratch">è¿™é‡Œ</a>æœ‰æ›´åŠ è¯¦ç»†çš„ä»‹ç»ï¼Œæˆ‘çš„ <a target="_blank" rel="noopener" href="https://github.com/AndriyLin/Utils/blob/master/settings/emacs-mac">.emacs</a> é‡Œä¹Ÿæœ‰è®¾ç½®å¥½çš„éƒ¨åˆ†å¯ä¾›å‚è€ƒã€‚</p>
<p>ä¸‹è¾¹æ˜¯ä¸€äº› emacs é‡Œä½¿ç”¨ OCaml ç›¸å…³çš„ä¸€äº›å¸¸ç”¨å¿«æ·é”®ï¼šï¼ˆå¯ç”¨ï¼‰</p>
<ul>
<li>ctrl+c, ctrl+lï¼šjump to definition. åœ¨çœ‹ä»£ç çš„æ—¶å€™ï¼Œè¿™ä¸ªå‡ ä¹æ˜¯æœ€å¸¸ç”¨çš„äº†ï¼<ul>
<li>è¦ç”¨è¿™ä¸ªçš„è¯ï¼Œéœ€è¦å…ˆé…ç½®å¥½ ocaml-merlin</li>
<li>æˆ‘è¿˜è‡ªå·±æ·»åŠ äº†ä¸€ä¸ª .merlin çš„é…ç½®æ–‡ä»¶ï¼ˆæ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼‰ï¼Œæè¿°å“ªäº›æ–‡ä»¶å¤¹ä¸‹æœ‰ source code, å“ªäº›æœ‰ compiled binary file, ç„¶åçœŸçš„å°±è„±èƒæ¢éª¨ï¼Œæ•ˆæœæ‹”ç¾¤äº†ï¼ï¼æ„Ÿè§‰æ²¡æœ‰è®¾ç½®è¿™ä¸ªçš„è¯å…¶å® merlin mode ä¹Ÿæä¾›ä¸äº†å¤šå¤§çš„å¥½å¤„..</li>
</ul>
</li>
<li>ctrl+c, &amp;: å›åˆ°åˆšæ‰ jump to definition ä¹‹å‰çš„ä½ç½®..</li>
<li>ctrl+t: è¿™ä¸ªå¯ä»¥çœ‹é€‰ä¸­éƒ¨åˆ†ï¼ˆæˆ–è€…å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®ï¼‰çš„ type info, æœ‰æ—¶å€™éœ€è¦å†æŒ‰ä¸€æ¬¡ ctrl+t æ¥æ˜¾ç¤ºå®Œæ•´çš„ type info.</li>
</ul>
<h2 id="ä»£ç ç†è§£"><a href="#ä»£ç ç†è§£" class="headerlink" title="ä»£ç ç†è§£"></a>ä»£ç ç†è§£</h2><ol>
<li><p>ä» herd.ml æ–‡ä»¶å¼€å§‹ï¼Œåœ¨ <code>let () = ...</code> é‚£é‡Œå¼€å§‹æ˜¯æ•´ä¸ªç¨‹åºçš„ entry point,</p>
<ol>
<li>å…ˆæ˜¯è¯»å–å‘½ä»¤è¡Œå‚æ•°è®¾ç½®å„ç§ç¯å¢ƒå˜é‡ï¼Œæ”¾åœ¨ <code>Opts</code> å’Œ <code>Model</code> è¿™ä¸¤ä¸ª module å†…</li>
<li>ç„¶åä» <code>from_file</code> å‡½æ•°å¼€å§‹è§£æï¼Œè¿™ä¸ªå‡½æ•°å®é™…ä¸Šæ˜¯å»è°ƒç”¨ <code>ParseTest.Top</code> è¿™ä¸ª module, å…¶ä¼šæ ¹æ®é…ç½®å¥½çš„ <code>env</code> å’Œ <code>filename</code> æ¥ä»è¿™ä¸ª litmus test æ–‡ä»¶ä¸­å¼€å§‹æ‰§è¡Œã€‚</li>
<li>å®ƒä¼šæŠŠæ‰€æœ‰åœ¨å‘½ä»¤è¡Œå‚æ•°ä¸­ä¼ å…¥çš„ <code>files</code> éƒ½è¿™ä¹ˆå»åšä¸€é</li>
</ol>
</li>
<li><p>æ‰€ä»¥ä¸‹ä¸€æ­¥çš„é‡ç‚¹æ˜¯ parseTest.ml æ–‡ä»¶ä¸­çš„ <code>ParseTest.Top.from_file</code> å‡½æ•°ï¼Œå®ƒä¼šè¿›ä¸€æ­¥è°ƒç”¨å†…éƒ¨çš„ <code>do_from_file</code> å‡½æ•°ï¼š</p>
<ol>
<li>å…ˆè°ƒç”¨ <code>Splitter</code> å»è§£æ input litmus test program, åˆ†å‡º initial state &#x2F; program &#x2F; final condition ç­‰ç­‰ä¸åŒçš„ section.</li>
<li>è¿™ä¸ª Splitter module ä¼¼ä¹æ˜¯ä¸ªåœ¨å…¶å®ƒåœ°æ–¹ä¹Ÿæœ‰ç”¨åˆ°çš„å…¬ç”¨ä»£ç ï¼Œåæ­£å…·ä½“å®ç°æˆ‘å¹¶ä¸å…³å¿ƒ ğŸ˜“</li>
<li>ç„¶åå°±å¯ä»¥æ ¹æ® splitter å¾—åˆ°çš„ architecture ä¿¡æ¯ï¼Œè°ƒç”¨ä¸åŒçš„å…·ä½“çš„ parser æ¥è§£æè¿™ä¸ª litmus test äº†ã€‚<ol>
<li>è¿™äº› arch æœ‰ï¼š<code>PPC</code> &#x2F; <code>ARM</code> &#x2F; <code>AArch64</code> &#x2F; <code>X86</code> &#x2F; <code>MIPS</code> &#x2F; <code>C</code> &#x2F; <code>CPP</code> &#x2F; <code>LISA</code></li>
<li>çœ‹èµ·æ¥ï¼Œè¿™äº› litmus test æ˜¯ä¸€å®šè¦æœ‰ä¸€ä¸ª architecture çš„ï¼Œæˆ–è®¸æ˜¯å› ä¸ºä¸åŒçš„ architecture æœ‰ç€å„è‡ªçš„ keyword, ä¸åŒå¹³å°çš„å°±åˆ«æ··èµ·æ¥äº†ï¼æ‰€ä»¥åªæœ‰ä»–ä»¬è‡ªå·±å¯ä»¥è§£æã€‚</li>
</ol>
</li>
</ol>
</li>
<li><p>åœ¨ parseTest.ml parse äº† litmus test çš„ syntax, å¾—åˆ°å…¶ semantics ä¹‹åï¼Œä¼šè°ƒç”¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œçš„ <code>Top.Make</code> è¿™ä¸ª module è°ƒç”¨å…¶ <code>run</code> å‡½æ•°ï¼Œåœ¨è¿™ä¸ª <code>run</code> å‡½æ•°é‡Œï¼Œå…ˆç”Ÿæˆäº† <code>Test_herd</code> module (test_herd.ml), åº”è¯¥åªæ˜¯å®šä¹‰äº†å…¶å†…éƒ¨çš„ state åŒ…å«å“ªäº›å†…å®¹ï¼›ç„¶åé€šè¿‡ <code>Top_herd</code> module (top_herd.ml) çš„ <code>run</code> å‡½æ•°å»çœŸæ­£æ‰§è¡Œâ€”â€”execute test according to model!</p>
</li>
<li><p>åœ¨ top_herd.ml æ–‡ä»¶é‡Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„ <code>run</code> å‡½æ•°å°±æ˜¯å‰©ä¸‹çš„æ‰€æœ‰ generate + output éƒ¨åˆ†äº†ã€‚åœ¨ä¸€å¼€å§‹å°±è°ƒç”¨äº† <code>mem.ml</code> ä¸­çš„ <code>glommed_event_structures</code> å‡½æ•°ï¼š</p>
<ol>
<li><code>glommed_event_structures</code> çš„è¾“å‡ºæ˜¯ä¸€ä¸ª record, é‡Œå¤´çš„ <code>too_far</code> (bool) è¯´æ˜¯å¯ä»¥ä¸¢å¼ƒä¸€äº› events, æˆ‘æš‚æ—¶ä¸å…³å¿ƒã€‚é‡ç‚¹æ˜¯å…¶ä¸­çš„ç¬¬ä¸€ä¸ª field:<ol>
<li><code>event_structures : (int * S.M.VC.cnstrnts * S.event_structure) list ;</code></li>
<li>è¿™é‡Œæ˜¯ xxx list æ‰€ä»¥å·²ç»æ˜¯æŠŠæ‰€æœ‰å¯èƒ½çš„ execution graph éƒ½ç»™è¾“å‡ºæ¥äº†å§ï¼ï¼</li>
<li>ç¬¬ä¸€ä¸ª int æˆ‘è¿˜ä¸çŸ¥é“æ˜¯å•¥ï¼Œéš¾é“æ˜¯åœ¨è¿™ä¸ª list ä¸­çš„ç¼–å·ï¼Ÿï¼Ÿ</li>
<li>ç¬¬äºŒä¸ª <code>S.M.VC.cnstrnts</code>, å”‰ï¼Œä½ ä»¬ä¸ºå•¥ä¸å†™å…¨åå‘¢ &#x3D; &#x3D;</li>
<li>ç¬¬ä¸‰ä¸ª <code>S.event_structure</code> å±•å¼€æ¥æ˜¯<ol>
<li><code>Sem.Semantics.event_structure</code></li>
<li>è€Œ <code>Sem.Semantics</code> ä¼šâ˜åˆ° <code>SemExtra.S</code> é‡Œå¤´</li>
<li>è€Œé‚£é‡Œå¤´çš„ <code>event_structure</code> åˆä¼šâ˜åˆ° <code>Event.S.event_structure</code> é‚£é‡Œ</li>
<li>æ‰€ä»¥è¿™ä¹ˆä¸€è·¯ä¸‹æ¥æœ€ç»ˆè¦åˆ° <code>event.ml</code> (~line160) é‡Œå¤´çœ‹æ¯ä¸ª event structure graph é‡Œå¤´åˆ°åº•æ”¾äº†ä»€ä¹ˆä¸œè¥¿ &#x3D; &#x3D;<ol>
<li><code>procs</code></li>
<li><code>events</code> (set)</li>
<li><code>intra_causality_data</code> (relation) ç±»ä¼¼äº data dependency å§</li>
<li><code>intra_causality_control</code> (relation) ç±»ä¼¼äº control dependency å§</li>
<li><code>control</code> (relation) ä¼¼ä¹æŒ‡çš„æ˜¯ if è¿™ç§çš„</li>
<li><code>data_ports</code> (event set) è¿™ä¸ªæ²¡å¤ªæ‡‚ï¼šWvents that lead to the data port of a W. æ‰€ä»¥æ˜¯æ‰€æœ‰å¯èƒ½çš„ Write??</li>
<li><code>output</code> (event set) åº”è¯¥æ˜¯æœ€ç»ˆå¤–ç•Œ visible çš„é‚£äº› events å§</li>
</ol>
</li>
<li>è€Œæ¯ä¸ª event æ˜¯æœ‰ä¸€ä¸ª <code>eeid</code> æœ€ä¸ºå”¯ä¸€æ ‡è¯†çš„</li>
</ol>
</li>
</ol>
</li>
<li>ä¸è¿‡ï¼Œåœ¨è¿™ä¸ª <code>glommed_event_structures</code> é‡Œå¾—åˆ°çš„ event structures é‡Œä¼¼ä¹ä»…ä»…æ˜¯ events ä¸ºä¸»å‘€ï¼Œåƒæ˜¯ç»™ event ç¼–ä¸ªå·å•Šã€ä¸€äº›æœ€æœ€åŸºæœ¬çš„ä¿¡æ¯ç­‰ç­‰ã€‚åœ¨ SemExtra ä¸­æœ‰ä¸€ä¸ªæ›´å¤§çš„æ•°æ®ç»“æ„ â€”â€” concrete, è¿™ä¸ªé‡Œå¤´åº”è¯¥æ‰æ˜¯æ‰€æœ‰ output çš„æ€»é›†åˆï¼Œé‡Œå¤´åŒ…æ‹¬äº†ï¼š<ol>
<li>event structure, è¿™é‡Œæ˜¯ Event é‡Œå¤´çš„ event_structure, æ‰€ä»¥å°±æ˜¯æ¯ä¸ªå…·ä½“çš„ graph æœ‰ä¸€ä¸ª concrete å’¯</li>
<li>rf map<ol>
<li>rfmap çš„ç±»å‹æœ‰ç‚¹å¥‡æ€ªï¼Œæ˜¯ä¸€ä¸ª <code>write_to â†’ read_from</code> çš„ map?!</li>
<li>å…¶å® <code>write_to</code> è¡¨ç¤ºçš„æ˜¯ â€œthe eventâ€ to write to, ä¸€ä¸ª <code>write_to</code> æ˜¯ to final (no further read) or another Load. å¯¹åº”çš„ï¼Œ<code>read_from</code> è¡¨ç¤ºçš„æ˜¯ â€œthe eventâ€ to read from. æ‰€ä»¥å‘€ï¼Œè¿™å…¶å®å°±æ˜¯ç±»ä¼¼äºä¿© event è€Œå·²ã€‚</li>
<li>ç„¶å <code>write_to</code> ä½œä¸º key, å…¶å®å°±æ˜¯ load event ä½œä¸º key, å› æ­¤æ˜¯ä¸€ä¸ª rf-map å¹¶é wt-map å˜›</li>
</ol>
</li>
<li>final states</li>
<li>po + iico</li>
<li>po-same location</li>
<li>pco: ä¼¼ä¹æ˜¯ co çš„ precursor</li>
<li>store-load relation: è¿™é‡Œä¸‹è¾¹è¿™4ä¸ªæ˜¯ deduced from rfmaps</li>
<li>init-load relation</li>
<li>last store relation</li>
<li>atomic load &#x2F; store relation</li>
</ol>
</li>
<li>æ‰€ä»¥ å¾ˆå¤šå‡½æ•°é‡Œçš„ <code>conc</code> å‚æ•°åŸæ¥è¯´çš„å°±æ˜¯ concrete å’¯ï¼</li>
<li>è¿™ä¸ª concrete æˆ‘å»æœäº†ä¸‹ï¼ˆæœ <code>S.concrete</code> æˆ–è€… <code>conc</code> å…³é”®å­—ï¼‰ï¼Œå®ƒè‡³å°‘ç”¨åœ¨ä¸‹è¾¹è¿™ä¹ˆå‡ ä¸ªåœ°æ–¹çš„ï¼š<ol>
<li>pretty.ml è¿™ä¸ªå°±æ˜¯è¾“å‡ºåˆ° .dot file äº†</li>
<li>XXXMem.ml è¿™ä¸ªåº”è¯¥æ˜¯ç”¨å„ä¸ª architecture çš„ä¿¡æ¯æ¥ examine entire state, çœ‹é‡Œå¤´ä¸œè¥¿åˆ°åº•å¯¹ä¸å¯¹ï¼Œå¯ä»¥ç»§ç»­è½¬åˆ° <code>Minimal</code> &#x2F; <code>CAV12</code> &#x2F; <code>MachModelChecker</code> é‡Œå»ã€‚</li>
<li>è¿˜æœ‰ä¸€ä¸ª <code>kont</code> function é©¬ä¸Šå°±ä¼šè¯´åˆ°äº†</li>
</ol>
</li>
</ol>
</li>
<li><p>ç„¶åï¼Œtop_herd.ml æ–‡ä»¶é‡Œåœ¨ç”Ÿæˆäº† <code>event_structure</code> ä¹‹åï¼Œä¼šé€šè¿‡ <code>iter_rfms</code> å‡½æ•°å» generate and process rfmap. è¿™é‡Œæ‰æ˜¯çœŸæ­£çœŸæ­£å¾—åˆ° relation çš„éƒ¨åˆ†å§ï¼Ÿï¼é‚£ä¸ª <code>kont</code> å°±æ˜¯è¿™é‡Œç”¨çš„ï¼</p>
<ol>
<li>è¿™ä¸ª <code>iter_rfms</code> å‡½æ•°å†…éƒ¨è°ƒç”¨äº† mem.ml é‡Œçš„ <code>calculate_rf_with_cnstrnts</code> å‡½æ•°ï¼Œé‚£ä¸ªæ˜¯æœ‰å¸¦ç€è¯¦ç»†æ³¨é‡Šçš„ï¼Œéš¾å¾—å•Šï¼ç”šè‡³è¿˜æœ‰å¯¹äº <code>kont</code> å‡½æ•°çš„æè¿°ï¼Œè¯´æ˜¯å¯¹äºæ¯ä¸ªç”Ÿæˆçš„ concrete event structures éƒ½ä¼šè°ƒç”¨ä¸€ä¸‹ <code>kont</code>ã€‚å°±æ˜¯åœ¨è¿™é‡Œå¤´ generate &#x2F; process rfmap çš„å§ï¼Œé‡Œå¤´ä¼šæœ‰ solve ç­‰ç­‰çš„å‡½æ•°ä¼¼ä¹å¯ä»¥å†³å®šå…·ä½“çš„ rf relations.<ol>
<li>æ‰€è°“çš„ event structures å…¶å®è¿˜æ˜¯æ¯”è¾ƒ abstract çš„ï¼Œå› ä¸ºï¼šsome values and even memory locations in them are variables</li>
</ol>
</li>
<li>åœ¨ <code>calculate_rf_with_cnstrnts</code> å‡½æ•°ä¸­ä¼šä¼ å…¥ <code>kont</code> å‡½æ•°ä½œä¸ºå‚æ•°ï¼ˆä¼ è¿›æ¥çš„æ˜¯ä¸´æ—¶å®šä¹‰çš„ <code>call_model</code>ï¼‰ï¼Œåœ¨è¿™ä¸ªå‡½æ•°é‡Œå¤´ï¼š<ol>
<li>å½“æˆåŠŸ solve constraints çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ <code>fold_mem_finals</code> å‡½æ•°ï¼Œåœ¨é‡Œå¤´æ„å»ºä¸€ä¸ªä¸ª concrete instance!! ç”¨ <code>fold_cross</code> è¿™ä¸ªå‡½æ•°åº”è¯¥æ˜¯ç”¨æ¥ä¸€ä¸‹ç”Ÿæˆå¤šç§ä¸åŒçš„ç»“æœçš„å§ã€‚è¿™é‡Œå°±æ˜¯æˆ‘æƒ³è¦å…³å¿ƒçš„ä¸œè¥¿äº†å‘€ï¼ç­‰ä¸‹ä¼šè¯´åˆ°ï¼ŒæŠŠè¿™ä¸ªç”Ÿæˆçš„å…·ä½“ç»“æœå†æ ¹æ® user-specified model å»éªŒè¯ä¸€ä¸‹ï¼Œæ²¡é—®é¢˜çš„è¯å°±ä¼šè¾“å‡ºæ‰“å°äº†ã€‚</li>
<li>å¦‚æ²¡èƒ½æˆåŠŸ solve constraints çš„è¯ï¼ˆcannot make such event structures concreteï¼‰ï¼Œä¼šè°ƒç”¨ <code>when_unsolved</code> å‡½æ•°ã€‚å¦‚æœåˆ¤å®šæ˜¯ unloop depth ä¸å¤Ÿæˆ–è€… cyclic rfmaps çš„è¯å°±ä¼šè°ƒç”¨å¦ä¸€ä¸ªä¸“ç”¨å‡½æ•° <code>kont_loop</code> å‡½æ•°æ¥åšäº‹æƒ…ã€‚ä¸è¿‡æˆ‘çœ‹åœ¨ç°åœ¨çš„ä»£ç ä¸­ä¼ è¿›æ¥çš„ <code>kont_loop</code> å‡½æ•°ä»…ä»…æ˜¯ <code>fun c -&gt; c</code> è¿™æ ·å­ï¼Œè¿™ä¸ªçœŸçš„ä¼šæœ‰åŒºåˆ«ä¹ˆ &#x3D; &#x3D; æ‰€ä»¥æˆ‘çŒœæµ‹åº”è¯¥è¿˜æ²¡æœ‰å®ç°å®Œå…¨ï¼Œä¸è¿‡è·Ÿæˆ‘ä¹Ÿæ²¡æœ‰å…³ç³»äº†ï¼Œæˆ‘å…³å¿ƒçš„ Litmu test éƒ½æ˜¯æ²¡æœ‰ loop çš„</li>
</ol>
</li>
<li>å½“èƒ½å¤ŸæˆåŠŸ solve constraints, å¾—åˆ°ä¸€ä¸ª <code>concrete</code> çš„æ—¶å€™ï¼Œ<code>calculate_rf_with_cnstrnts</code> å‡½æ•°ä¼šè°ƒç”¨åœ¨ top_herd.ml é‡Œçš„ <code>iter_rfms</code> å‡½æ•°é‡Œä¼ å…¥çš„ <code>call_model</code> å‡½æ•°å‚æ•°ï¼š<ol>
<li>åœ¨ <code>call_model</code> è°ƒç”¨äº† <code>check_test</code> å‡½æ•°ï¼Œå®ƒä¼šå»è°ƒç”¨ XXXMem.ml æ‰€å®šä¹‰çš„ <code>check_event_structure</code> å‡½æ•°ã€‚æ¯”å¦‚è¯´åœ¨ machModelCheck.ml (mach â‰¡ machine) ä¸­çš„ <code>check_event_structure</code> å‡½æ•°æ˜¯ä¸‹è¾¹è¿™æ ·çš„ã€‚é™¤äº†è¿™ä¸ªä¹‹å¤–ï¼Œè¿˜æœ‰ CAV12.ml å’Œ minimal.ml é‡Œçš„å®ç°ï¼Œæ‰€ä»¥æ˜¾ç„¶æ˜¯ä¸‹è¾¹è¿™ä¸ª mach çš„æœ€é€šç”¨äº†å§ã€‚</li>
<li><code>check_event_structure</code> é‡Œå¤´æ˜¯ä¼šå¼•å…¥ bell info. è¿™ä¸ª bell æˆ‘åœ¨ herd7 tool demo website é‡Œè§åˆ°è¿‡çš„ï¼Œä½†æ˜¯ä¸çŸ¥é“å®ƒä»€ä¹ˆæ„æ€ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯ä¸€äº›å…·ä½“çš„ configuration å§ã€‚</li>
<li>å¦‚æœå£°æ˜äº†è¦æœ‰ co çš„è¯ï¼Œè¿˜ä¼šè‡ªåŠ¨å»ç”Ÿæˆ co &#x2F; fr å‘¢</li>
<li>å¦‚æœæ˜¯ machModelChecker çš„è¯ï¼Œå› ä¸ºæ˜¯é’ˆå¯¹ user specified model å˜›ï¼Œæ‰€ä»¥æœ€åä¼šå»è°ƒç”¨ <code>run_interpret</code> è¿™ä¸ªå‡½æ•°ï¼Œä¼  <code>kont</code> è¿›å»ã€‚è¿™ä¸ªä¼šè°ƒç”¨ interpreter.ml é‡Œçš„ä»£ç ï¼Œå» interpret ä¸€ä¸ª user-specified model! interpreter.ml å¥½å¤§å‘¢ï¼Œ2k+ è¡Œï¼ŒåŸºæœ¬å°±æ˜¯ä»–ä»¬çš„ç±» OCaml cat DSL çš„ interpreter äº†å§ï¼Œæˆ‘å°±ä¸çœ‹äº† ğŸ˜“</li>
<li>ç„¶åå¦‚æœ interpretation å¤„ç†åçš„ç»“æœå…¨éƒ¨æ­£ç¡®çš„è¯ï¼Œä¼šè°ƒç”¨ <code>kont</code> å»è¾“å‡ºï¼š<code>kont st res</code>. ä»£ç ä¸­çš„æ³¨é‡Šè¯´çš„æ˜¯ï¼šFor all success call kont, accumulating results.</li>
</ol>
</li>
</ol>
</li>
<li><p>ç»ˆäºå¯ä»¥è¯´å…·ä½“çš„ <code>kont</code> å‡½æ•°é‡Œå¤´åšäº†ä»€ä¹ˆäº‹æƒ…äº†ï¼Œå…¶å®å°±æ˜¯åœ¨ top_herd.ml é‡Œçš„ <code>model_kont ochan test cstr</code> å‡½æ•°ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š</p>
<ol>
<li>å®ƒæ˜¯è¿™ä¹ˆç”¨çš„ï¼š<ol>
<li><code>kont conc conc.S.fs st.I.out_show st.I.out_flags res</code> (in machModelChecker.ml)</li>
<li><code>kont conc conc.S.fs vb_pp Flag.Set.empty res</code> (in CAV12.ml)</li>
<li><code>kont conc conc.S.fs pp_relns Flag.Set.empty res</code> (in minimal.ml)</li>
</ol>
</li>
<li>æ‰€ä»¥å¯ä»¥ç¡®å®šå®ƒçš„å‚æ•°åˆ†åˆ«è¡¨ç¤ºï¼š<ol>
<li>concrete state &#x2F; final states &#x2F; vbpp: print relations çš„å‡½æ•° &#x2F; flags &#x2F; c: results</li>
</ol>
</li>
<li>æ¥ç€æˆ‘ä»¬å†æ¥çœ‹ <code>model_kont</code> è¿”å›çš„å‡½æ•°é‡Œç©¶ç«Ÿåšäº†ä»€ä¹ˆäº‹æƒ…ã€‚</li>
<li>é¦–å…ˆï¼Œå®ƒæœ‰å»çœ‹ <code>-through</code> è¿™ä¸ª flag â€”â€” é¢å¤–æ‰“å°å“ªäº› executions. <code>-through all</code> è¡¨ç¤ºæ— è®ºå¯¹é”™éƒ½ç»™æ‰“å‡ºæ¥ï¼Œåƒ <code>-through none</code> å°±è¡¨ç¤ºåªæœ‰æ­£ç¡®çš„æ‰æ‰“å°</li>
<li>ç„¶åå»è°ƒç”¨ <code>check_prop test fsc</code>, å»çœ‹è¿™ä¸ª final states åˆ°åº•ç¬¦ä¸ç¬¦åˆï¼Œç„¶åç»§ç»­æ ¹æ®å…¶å®ƒçš„å‚æ•°ä¸€èµ·å†³å®š <code>show_exec</code> (bool) ä¸å¦ã€‚</li>
<li>ç„¶åï¼Œ<code>dump_legend</code> (ine 244 - line 283)ï¼Œç„¶åæ”¶é›†ä¸€ä¸‹ n-pos, n-neg è¿™ç§ä¿¡æ¯è€Œå·²ã€‚ç„¶åå°±æ²¡æœ‰äº†ã€‚</li>
<li>ç­‰ç­‰ï¼Œè¿™ä¸ª <code>dump_legend</code> å‡½æ•°å…¶å®ä¸ä»…ä»… dump äº† legend â€”â€”å›¾ç‰‡æ ‡é¢˜ï¼Œè¿˜æœ‰å…¶å®ƒä¸œè¥¿çš„ &#x3D; &#x3D; ï¼ˆè¿™ä¸ªæ¸£å‘½å..ï¼ï¼ï¼‰åœ¨ <code>Pretty.dump_legend</code> é‡Œä¼šå»è°ƒç”¨ <code>pp_dot_event_structure</code>, æ‰€æœ‰çš„å…·ä½“ä»£ç éƒ½åœ¨å®ƒçš„ worker function â€“ <code>do_pp_dot_event_structure</code> (line 743) é‡Œå¤´äº†ï¼Œæ³¨é‡Šè¿˜è¯´ï¼šThis complex function is not meant to be used directly, æˆ‘è¿˜èƒ½è¯´ä»€ä¹ˆ.. â•®(â•¯_â•°)â•­  åæ­£æˆ‘å°±æ˜¯å›´è§‚ä¸€ä¸‹ï¼Œç¡®è®¤ä¸€ä¸‹é‚£äº›ä¸ªå…·ä½“çš„ data æ˜¯ä»å“ªé‡Œå–å‡ºæ¥çš„ï¼Œæ¯ä¸€ä¸ª data åˆ†åˆ«è¡¨ç¤ºä»€ä¹ˆè€Œå·²ã€‚</li>
</ol>
</li>
<li><p>åœ¨è°ƒç”¨ <code>kont</code> çš„æ—¶å€™ï¼Œè‚¯å®šé‚£äº›ä¸ª concrete &#x2F; rfmaps &#x2F; å•¥ç­‰ç­‰ç­‰ç­‰çš„ä¸œè¥¿éƒ½å·²ç»ç¡®å®šäº†ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥åœ¨è¿™é‡Œ inject ä¿å­˜æˆ‘æƒ³è¦çš„ä¸œè¥¿å°±å¯ä»¥äº†ï¼</p>
</li>
<li><p>åœ¨ä¸Šè¾¹è¿™äº›éƒ½æ‰§è¡Œå®Œäº†ä¹‹åï¼Œç»ˆäºå›åˆ°äº† top_herd.ml é‡Œçš„ <code>run</code> å‡½æ•° ğŸ˜‚ï¼Œé‡Œå¤´å‰©ä¸‹çš„éƒ¨åˆ†éƒ½æ˜¯è¾“å‡ºåˆ° terminal çš„é‚£äº›ä¸ª output äº†ï¼Œæˆ‘å°±ä¸å¤ªå…³å¿ƒäº†ã€‚</p>
</li>
</ol>
<p>ä¸Šè¾¹æ˜¯å¤§è‡´çš„æµç¨‹ï¼Œä¸è¿‡è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œåœ¨ pretty.ml ä¸­å…·ä½“æ˜¯æ€ä¹ˆæŠ½å–å‡ºå…³é”®çš„ä¿¡æ¯çš„å‘¢ï¼Œè¿™é‡Œè¿˜æ˜¯æœ‰ç‚¹é—¨é“çš„ï¼š</p>
<ol>
<li>events<ol>
<li>é€šè¿‡ <code>dump_es_rfm_legend</code> å‡½æ•°å¯ä»¥å­¦ä¹  herd7 æ˜¯æ€ä¹ˆå»è¯»å– events çš„ã€‚å…¶å®æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯é€šè¿‡è°ƒç”¨ <code>pp_dot_event_structure</code> è¿™ä¸ªå‡½æ•°æ¥åšçš„ã€‚</li>
<li>å¯ä»¥çœ‹åˆ°å®ƒä¼šé¦–å…ˆå» filter out events &#x2F; rfs. å› ä¸ºåœ¨å‘½ä»¤è¡Œå‚æ•°ä¸­å¯èƒ½ä¼šè¯´å“ªäº›ä¸ª events æ˜¯ä¸éœ€è¦çš„ã€‚å“ªäº›ä¸ªæ˜¯éœ€è¦çš„ã€‚ç„¶åå¯¹äº relations çš„ select å…¶å®å°±æ˜¯åªç•™ä¸‹ä¿© event éƒ½æ˜¯ valid çš„é‚£äº›ä¸ªã€‚è€Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œå°±ä¸ç”¨æŒ‘äº†å§ï¼Œéƒ½æ‰“å‡ºæ¥ï¼<ol>
<li>å…¶å®é»˜è®¤è®¾å®š <code>PrettyConf.showevents</code> çš„å€¼æ˜¯ NON-REG-EVENTS.</li>
<li>é€šè¿‡ disable&#x2F;enable <code>select_es</code> çš„æ•ˆæœå¯ä»¥çœ‹å‡ºï¼ŒNON-REG-EVENTS ä¼šç¦ç”¨æ‰ write to r1 è¿™ç±»çš„ events.</li>
<li>æ¯”å¦‚è¯´ <code>r1 := y</code> è¿™æ ·çš„ä¸œè¥¿ï¼Œä¼šå˜æˆ read y å’Œ write to r1 è¿™æ ·ä¸¤ä¸ª events. ç„¶åæ›´æ–° r1 çš„ event å…¶å®æ¯«æ— æ„ä¹‰äº†ã€‚æ¯•ç«ŸçœŸæ­£ rf relation å»è¿çš„æ˜¯ read y event å‘€ã€‚æ‰€ä»¥è¿™ç§ events å¿½ç•¥æ‰å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼</li>
<li>æ‰€ä»¥æˆ‘ä¹Ÿå’Œ Pretty ä¸€æ ·åœ° filter events.</li>
</ol>
</li>
<li>å¯¹äº rf çš„ filter å…¶å®ä¹Ÿæ˜¯åŸºäº events çš„ filtering, å°±æ˜¯å»æŒ‘å‡ºçœŸæ­£å°†è¦æ˜¾ç¤ºçš„é‚£äº› events çš„ rf relation. å› æ­¤æˆ‘ä¹Ÿç•™ç€å§ã€‚</li>
<li>åœ¨è¿™é‡Œä¸€ç›´æœ‰ä¸€ä¸ª <code>vbss</code> çš„å‚æ•°ï¼Œæˆ‘çœ‹äº†å¾ˆä¹…å®ƒåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿..<ol>
<li>åœ¨ top_herd é‡Œæœ‰ä¸€ä¸ª <code>vbpp</code> çš„ä¸œè¥¿ï¼Œå¯ä»¥çœ‹å‡ºè¿™å°±æ˜¯å°†æ¥ä¼ åˆ° <code>vbss</code> é‡Œçš„ä¸œè¥¿ã€‚å¯ä»¥é€šè¿‡ <code>ctrl+c, ctrl+t</code> çœ‹åˆ°è¿™ä¸ªçš„ç±»å‹æ˜¯ä¸ª <code>(string, relation) pair list</code>. ç„¶åéšä¾¿é’ˆå¯¹æµ‹è¯•ä¾‹å­æ‰“å°å‡ºæ¥ï¼Œå°±å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæ˜¯é¢å¤–è¦æ‰“å°çš„ relations!! å°±åƒ ghb &#x2F; fr &#x2F; co è¿™äº›ï¼ˆè™½ç„¶ co åœ¨ concrete é‡Œä¹Ÿæœ‰ï¼‰</li>
<li>è‡³äº vb åˆ°åº•è¡¨ç¤ºå•¥.. æˆ‘ä¸çŸ¥é“..<ol>
<li>å¯èƒ½æ˜¯ verbose, æ¯•ç«Ÿåªæœ‰ verbose level &gt; 0 çš„æ—¶å€™æ‰åœ¨ pretty.ml ä¸­å»æ‰“å°çš„</li>
<li>ä¹Ÿå¯èƒ½æ˜¯ view-before, åœ¨ pretty.ml æ‰“å°å‡½æ•°çš„æœ€åä¸€ä¸ªéƒ¨åˆ† â€œA bunch of arrowsâ€ é‚£é‡Œæœ‰æ³¨é‡Šè¯´åˆ° viewed-before edges. è¯¶ï¼Œviewed-before æ˜¯ä¸æ˜¯å°±æ˜¯ fr çš„åˆ«ç§°ï¼Ÿï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
<li><code>do_pp_dot_event_structure</code> è¿˜æœ‰ä¸€ä¸ª mark å‚æ•°ï¼Œæˆ‘çœ‹äº†ä¸‹ï¼Œæ„Ÿè§‰åƒæ˜¯ a set of events marked for debugging å•¥çš„..</li>
</ol>
</li>
<li>po relations<ol>
<li><code>conc.po</code> å°±æ˜¯ï¼ï¼ç›´æ¥æ‰“å°å°±å¥½äº†ï¼ï¼ä¸ºä»€ä¹ˆ Pretty.ml é‡Œå¤´è¿˜è¦å¤§è´¹å‘¨ç« åœ°é‡æ–°ç®—ä¸€é..</li>
</ol>
</li>
<li>rf relations<ol>
<li>å…¶å®ç›´æ¥éå† rfmap å°±å¯ä»¥äº†ï¼</li>
</ol>
</li>
<li>co relations<ol>
<li>ä¹Ÿåœ¨ conc é‡Œå°±æœ‰ï¼å¦å¤– vbs ä¹Ÿæœ‰..</li>
</ol>
</li>
<li>fr relations<ol>
<li>vbs é‡Œå°±æœ‰ï¼</li>
</ol>
</li>
<li>other relations</li>
</ol>
<p>å°±ç…§ç€è¿™ä¹ˆå»æ”¹å°±æ”¹å¥½äº†~ ğŸ˜„</p>
<h2 id="æµ‹è¯•æµç¨‹"><a href="#æµ‹è¯•æµç¨‹" class="headerlink" title="æµ‹è¯•æµç¨‹"></a>æµ‹è¯•æµç¨‹</h2><p>å› ä¸ºæ¯æ¬¡ <code>make all</code> ä¹‹åæ„é€ å‡ºæ¥çš„æ˜¯ <code>herd.native</code> è¿™ä¹ˆä¸ªä¸œè¥¿å‘€ã€‚æ‰€ä»¥æˆ‘å°± <code>ln -s xxx/herd.native yyy/herd7</code> äº†ä¸€ä¸‹ï¼Œç»è¿‡ç¡®è®¤ï¼Œé‡æ–°ç¼–è¯‘ä¹‹åï¼Œyyy&#x2F;herd7 ä¹Ÿçš„ç¡®æ˜¯æœ€æ–°çš„ï¼Œç„¶åå°±å¥½äº†ã€‚</p>
<p>ä¸è¿‡è¿™æ ·æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸º stdlib.cat è¿™ç§ä¸œè¥¿æ‰¾ä¸åˆ°.. åœ¨ src code æ˜¯æœ‰è¿™äº›çš„ï¼Œåœ¨  herd&#x2F;libdir æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶ååœ¨å‘½ä»¤é‡ŒåŠ ä¸Š <code>-I path/to/herd/libdir</code> å°±å¯ä»¥äº†</p>
<h2 id="ä¸€ç‚¹ç‚¹ä½“ä¼š"><a href="#ä¸€ç‚¹ç‚¹ä½“ä¼š" class="headerlink" title="ä¸€ç‚¹ç‚¹ä½“ä¼š"></a>ä¸€ç‚¹ç‚¹ä½“ä¼š</h2><p>è¿™æ˜¯ç¬¬ä¸€æ¬¡çœ‹ functional language çš„ real code. æ„Ÿè§‰æ˜¯ï¼šç¡®å®æœ‰äº›ä¸œè¥¿å¯ä»¥å†™çš„å¾ˆç®€æ´ï¼ä½†æ˜¯è®©æˆ‘éå¸¸å›°æƒ‘çš„æ˜¯å¥½äº›ä¸ªå˜é‡çš„å‘½åï¼Œã€Œç”¨ä¸€ä¸ªå­—æ¯å‘½åã€è¿™ä¸ªè¡Œä¸ºçœŸçš„æ˜¯å¤ªä¸å‹å¥½äº† &gt;_&lt;</p>
</article><ul class="pager blog-pager"><li class="previous"><a href="/2016/12/30/%E7%89%9B%E6%B4%A5%E9%80%9A%E8%AF%86%E8%AF%BB%E6%9C%AC%EF%BC%9A%E6%94%BF%E6%B2%BB%E7%9A%84%E5%8E%86%E5%8F%B2%E4%B8%8E%E8%BE%B9%E7%95%8C/" data-toggle="tooltip" data-placement="top" title="ç‰›æ´¥é€šè¯†è¯»æœ¬ï¼šæ”¿æ²»çš„å†å²ä¸è¾¹ç•Œ">â† Previous Post</a></li><li class="next"><a href="/2016/12/15/Herd-Lab/" data-toggle="tooltip" data-placement="top" title="Lab - Experiencing Memory Models using Herd7">Next Post â†’</a></li></ul><div class="disqus-comments"><div class="comments"><div id="disqus_thread"></div></div></div><script>var url_parts = window.location.href.split("?");
var disqus_url = url_parts[0];
(function () {
    console.log("enter disqus");
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = "//andriylin-blog.disqus.com/embed.js";
    (document.head || d.body ).appendChild(dsq);
})();</script></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="/atom.xml" title="RSS"><span class="fa-stack fa-lg"><i class="fa-solid fa-circle fa-stack-2x"></i><i class="fa-stack-1x fa-inverse fa-solid fa-rss"></i></span></a></li><li><a href="mailto:xuankang.lin@gmail.com" title="Email me"><span class="fa-stack fa-lg"><i class="fa-solid fa-circle fa-stack-2x"></i><i class="fa-stack-1x fa-inverse fa-solid fa-envelope"></i></span></a></li><li><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/xuankanglin/" title="LinkedIn"><span class="fa-stack fa-lg"><i class="fa-solid fa-circle fa-stack-2x"></i><i class="fa-stack-1x fa-inverse fa-brands fa-linkedin"></i></span></a></li><li><a target="_blank" rel="noopener" href="https://github.com/XuankangLin" title="GitHub"><span class="fa-stack fa-lg"><i class="fa-solid fa-circle fa-stack-2x"></i><i class="fa-stack-1x fa-inverse fa-brands fa-github"></i></span></a></li><li><a target="_blank" rel="noopener" href="https://www.douban.com/people/andriylin/" title="Douban"><span class="fa-stack fa-lg"><i class="fa-solid fa-circle fa-stack-2x"></i><i class="fa-stack-1x fa-inverse fa-brands fa-douban"></i></span></a></li><li><a target="_blank" rel="noopener" href="https://www.goodreads.com/xuankanglin" title="Goodreads"><span class="fa-stack fa-lg"><i class="fa-solid fa-circle fa-stack-2x"></i><i class="fa-stack-1x fa-inverse fa-brands fa-goodreads"></i></span></a></li></ul><p class="copyright text-muted">Â© gungunba â€¢ 2025
</p><p class="theme-by text-muted">Theme by
<a target="_blank" rel="noopener" href="https://github.com/XuankangLin/beautiful-hexo">beautiful-hexo</a></p></div></div></div></footer><script src="//cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script async src="https://www.googletagmanager.com/gtag/js?id=#{theme.google_analytics.id}"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-42282594-1');</script></body></html>